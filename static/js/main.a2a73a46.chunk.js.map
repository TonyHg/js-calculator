{"version":3,"sources":["Calculator.js","Screen.js","Button.js","NumPad.js","App.js","reportWebVitals.js","index.js"],"names":["MAXDIGITS","AC","C","ZERO","PLUS","MINUS","TIMES","DIVIDE","MODULO","DECIMAL","EQUAL","MAXDIGITS_MESSAGE","DIV_BY_ZERO","initState","formula","currentNumber","evaluating","Calculator","props","state","handleDigit","bind","handleOperator","handleClear","handleDecimal","handleBackspace","handleEvaluation","stopEvaluationAndReset","this","digit","length","setState","c","operator","formulaLength","isOperator","charAt","slice","symbol","currentNumberLength","_","includes","expression","res","eval","Infinity","toString","className","React","Component","Screen","id","Button","onClick","NumPad","App","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a2a73a46.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Calculator.css\";\r\nimport Screen from \"./Screen\";\r\nimport NumPad from \"./NumPad\";\r\n\r\nconst MAXDIGITS = 13;\r\nexport const AC = \"AC\",\r\n  C = \"C\",\r\n  ZERO = \"0\",\r\n  PLUS = \"+\",\r\n  MINUS = \"-\",\r\n  TIMES = \"*\",\r\n  DIVIDE = \"/\",\r\n  MODULO = \"%\",\r\n  DECIMAL = \".\",\r\n  EQUAL = \"=\",\r\n  MAXDIGITS_MESSAGE = \"ERR MAX NUM\",\r\n  DIV_BY_ZERO = \"DIV BY ZERO\";\r\nconst initState = {\r\n  formula: \"\",\r\n  currentNumber: ZERO,\r\n  evaluating: false,\r\n};\r\n\r\nexport default class Calculator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initState;\r\n\r\n    this.handleDigit = this.handleDigit.bind(this);\r\n    this.handleOperator = this.handleOperator.bind(this);\r\n    this.handleClear = this.handleClear.bind(this);\r\n    this.handleDecimal = this.handleDecimal.bind(this);\r\n    this.handleBackspace = this.handleBackspace.bind(this);\r\n    this.handleEvaluation = this.handleEvaluation.bind(this);\r\n    this.stopEvaluationAndReset = this.stopEvaluationAndReset.bind(this);\r\n  }\r\n\r\n  stopEvaluationAndReset() {\r\n    this.handleClear(AC);\r\n  }\r\n\r\n  handleDigit(digit) {\r\n    var { formula, currentNumber, evaluating } = this.state;\r\n    if (evaluating) {\r\n      this.stopEvaluationAndReset();\r\n\r\n      // FIXME\r\n      formula = initState.formula;\r\n      currentNumber = initState.currentNumber;\r\n    }\r\n\r\n    if (currentNumber.length >= MAXDIGITS) return;\r\n\r\n    if (currentNumber === ZERO && digit === ZERO) return;\r\n\r\n    this.setState({\r\n      formula: formula + digit,\r\n      currentNumber: currentNumber === ZERO ? digit : currentNumber + digit,\r\n      evaluating: false,\r\n    });\r\n  }\r\n\r\n  isOperator(c) {\r\n    return (\r\n      c === PLUS || c === MINUS || c === TIMES || c === DIVIDE || c === MODULO\r\n    );\r\n  }\r\n\r\n  handleOperator(operator) {\r\n    var { formula, currentNumber, evaluating } = this.state;\r\n    if (evaluating) {\r\n      this.stopEvaluationAndReset();\r\n\r\n      // FIXME\r\n      formula = initState.formula;\r\n      currentNumber = initState.currentNumber;\r\n    }\r\n\r\n    const formulaLength = formula.length;\r\n\r\n    if (formulaLength === 0) formula = ZERO;\r\n\r\n    if (this.isOperator(formula.charAt(formulaLength - 1)))\r\n      formula = formula.slice(0, -1);\r\n\r\n    this.setState({\r\n      formula: formula + operator,\r\n      currentNumber: ZERO,\r\n      evaluating: false,\r\n    });\r\n  }\r\n\r\n  handleClear(symbol) {\r\n    switch (symbol) {\r\n      case AC:\r\n        this.setState(initState);\r\n        break;\r\n      case C:\r\n        const { formula, currentNumber, evaluating } = this.state;\r\n        if (currentNumber === ZERO || evaluating) break;\r\n        const currentNumberLength = currentNumber.length;\r\n        this.setState({\r\n          formula: formula.slice(0, -currentNumberLength),\r\n          currentNumber: ZERO,\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleDecimal(_) {\r\n    var { formula, currentNumber, evaluating } = this.state;\r\n    if (evaluating) {\r\n      this.stopEvaluationAndReset();\r\n\r\n      // FIXME\r\n      formula = initState.formula;\r\n      currentNumber = initState.currentNumber;\r\n    }\r\n\r\n    if (currentNumber.length >= MAXDIGITS) return;\r\n    if (currentNumber.includes(DECIMAL)) return;\r\n    if (currentNumber === ZERO) formula = formula + ZERO;\r\n\r\n    this.setState({\r\n      formula: formula + DECIMAL,\r\n      currentNumber: currentNumber + DECIMAL,\r\n    });\r\n  }\r\n\r\n  handleBackspace(_) {\r\n    var { formula, currentNumber, evaluating } = this.state;\r\n    if (currentNumber === ZERO || evaluating) return;\r\n\r\n    if (currentNumber.length === 1) currentNumber = \"00\";\r\n\r\n    this.setState({\r\n      formula: formula.slice(0, -1),\r\n      currentNumber: currentNumber.slice(0, -1),\r\n    });\r\n  }\r\n\r\n  handleEvaluation(_) {\r\n    const { formula, currentNumber, evaluating } = this.state;\r\n    if (evaluating === true) return;\r\n\r\n    if (formula.length === 0) return;\r\n\r\n    var expression = formula;\r\n    while (\r\n      expression &&\r\n      this.isOperator(expression.charAt(expression.length - 1))\r\n    )\r\n      expression = expression.slice(0, -1);\r\n\r\n    // TODO: use SafeEval\r\n    var res = eval(expression);\r\n\r\n    if (res === Infinity) res = DIV_BY_ZERO;\r\n    else if (res.toString().length >= MAXDIGITS) res = MAXDIGITS_MESSAGE;\r\n    this.setState({\r\n      formula: formula + EQUAL + res,\r\n      currentNumber: res,\r\n      evaluating: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"calculator\">\r\n        <Screen\r\n          formula={this.state.formula}\r\n          currentNumber={this.state.currentNumber}\r\n        />\r\n        <NumPad\r\n          handleDigit={this.handleDigit}\r\n          handleOperator={this.handleOperator}\r\n          handleClear={this.handleClear}\r\n          handleDecimal={this.handleDecimal}\r\n          handleBackspace={this.handleBackspace}\r\n          handleEvaluation={this.handleEvaluation}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Screen.css\";\r\n\r\nexport default class Screen extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"screen\">\r\n        <div id=\"formula\">{this.props.formula}</div>\r\n        <div id=\"current-number\">{this.props.currentNumber}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Button.css\";\r\n\r\nexport default function Button({ id, symbol, onClick }) {\r\n  return (\r\n    <div className=\"numpad-btn ripple noselect\" onClick={() => onClick(symbol)} id={id}>\r\n      <span>{symbol}</span>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./NumPad.css\";\r\nimport Button from \"./Button\";\r\nimport { AC, C } from \"./Calculator\";\r\n\r\nexport default class NumPad extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"numpad\">\r\n        <Button\r\n          id=\"button-delete\"\r\n          symbol={AC}\r\n          onClick={this.props.handleClear}\r\n        />\r\n        <Button symbol={C} onClick={this.props.handleClear} />\r\n        <Button symbol=\"%\" onClick={this.props.handleOperator} />\r\n        <Button symbol=\"/\" onClick={this.props.handleOperator} />\r\n\r\n        <Button symbol=\"7\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"8\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"9\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"*\" onClick={this.props.handleOperator} />\r\n\r\n        <Button symbol=\"4\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"5\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"6\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"-\" onClick={this.props.handleOperator} />\r\n\r\n        <Button symbol=\"1\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"2\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"3\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"+\" onClick={this.props.handleOperator} />\r\n\r\n        <Button symbol=\".\" onClick={this.props.handleDecimal} />\r\n        <Button symbol=\"0\" onClick={this.props.handleDigit} />\r\n        <Button symbol=\"⌫\" onClick={this.props.handleBackspace} />\r\n        <Button\r\n          id=\"button-result\"\r\n          symbol=\"=\"\r\n          onClick={this.props.handleEvaluation}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./App.css\";\nimport Calculator from \"./Calculator\";\n\nconst GITHUB_LINK = \"https://github.com/TonyHg\";\nfunction App() {\n  return (\n    <div id=\"wrapper\">\n      <Calculator />\n      <div id=\"credit\">\n        Tony Heng - <a href={GITHUB_LINK}>Github</a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}